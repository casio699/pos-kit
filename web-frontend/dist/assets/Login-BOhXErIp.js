import{c as u,u as Q,a as Y,b as ee,r as t,j as e,C as se,A as te}from"./index-C7_9dnC7.js";import{r as ae,l as T}from"./client-D5hvrTR8.js";import{m as o}from"./proxy-Dl3QHfk3.js";import{S as v,P as re}from"./store-DPXPjm82.js";import{U as F}from"./users-Cs4JfeNQ.js";import{U as le}from"./user-XPkw7rtw.js";import{X as ie}from"./x-DjslSKc_.js";import{C as ne}from"./credit-card-B-Cimhu9.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=u("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=u("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=u("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=u("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=u("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function Ne(){const B=Q(),$=Y(),{tenantId:w,setToken:S,setEmail:k}=ee(),[i,C]=t.useState(""),[c,q]=t.useState(""),[b,D]=t.useState(""),[p,U]=t.useState(""),[L,h]=t.useState(!1),[P,d]=t.useState(null),[M,m]=t.useState(null),[f,_]=t.useState(!1),[y,I]=t.useState(!1),[l,z]=t.useState(!1),[a,E]=t.useState({}),[W,g]=t.useState(!1),[j,x]=t.useState(0),[R,J]=t.useState("cashier"),[A,K]=t.useState(""),V=["Main Store - Downtown","Branch A - North Side","Branch B - West Mall","Warehouse - Industrial","Pop-up Store - Central"],X=[{id:"cashier",name:"Cashier",icon:e.jsx(ne,{className:"w-4 h-4"}),description:"Process sales and manage daily transactions"},{id:"manager",name:"Store Manager",icon:e.jsx(F,{className:"w-4 h-4"}),description:"Manage inventory, staff, and reports"},{id:"admin",name:"System Admin",icon:e.jsx(v,{className:"w-4 h-4"}),description:"Full system access and configuration"}],N=()=>{var n,r;const s=((r=(n=$.state)==null?void 0:n.from)==null?void 0:r.pathname)||"/products";B(s,{replace:!0})},O=()=>{const s={};return i?/\S+@\S+\.\S+/.test(i)||(s.email="Invalid email format"):s.email="Email is required",c?c.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",l&&(b||(s.firstName="First name is required"),p||(s.lastName="Last name is required"),A||(s.storeLocation="Store location is required")),E(s),Object.keys(s).length===0},Z=async()=>{var s,n;if(O()){h(!0),d(null),m(null);try{await ae({email:i,password:c,first_name:b,last_name:p,tenant_id:w}),m("Registration successful! Logging you in..."),setTimeout(async()=>{try{const r=await T({email:i,password:c});S(r.access_token),k(i),y&&localStorage.setItem("pos-remember-email",i),g(!0),x(0)}catch{d("Registration successful but login failed. Please try logging in manually.")}},1500)}catch(r){d(((n=(s=r.response)==null?void 0:s.data)==null?void 0:n.message)||r.message||"Registration failed")}finally{h(!1)}}},G=async()=>{var s,n;if(O()){h(!0),d(null),m(null);try{const r=await T({email:i,password:c});S(r.access_token),k(i),m("Login successful! Redirecting..."),y?localStorage.setItem("pos-remember-email",i):localStorage.removeItem("pos-remember-email"),setTimeout(N,1e3)}catch(r){d(((n=(s=r.response)==null?void 0:s.data)==null?void 0:n.message)||r.message||"Login failed")}finally{h(!1)}}},H=()=>{m("Password reset link sent to your email")};return t.useEffect(()=>{const s=localStorage.getItem("pos-remember-email");s&&(C(s),I(!0))},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsx(o.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},className:"hidden lg:block",children:e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(v,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"POS Pro"}),e.jsx("p",{className:"text-gray-600",children:"Point of Sale Management System"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(xe,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Real-time Analytics"})]}),e.jsx("p",{className:"text-gray-600",children:"Track sales, inventory, and performance metrics in real-time"})]}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(re,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Inventory Management"})]}),e.jsx("p",{className:"text-gray-600",children:"Smart inventory tracking with automated reorder points"})]}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Multi-Store Support"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage multiple locations from a single dashboard"})]})]})]})}),e.jsx(o.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6},className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-8 lg:hidden",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"ml-3 text-2xl font-bold text-gray-900",children:"POS Pro"})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:l?"Create Account":"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:l?"Join thousands of stores using POS Pro":"Sign in to manage your store"})]}),M&&e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center",children:[e.jsx(se,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-green-800 text-sm",children:M})]}),P&&e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[e.jsx(te,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-red-800 text-sm",children:P})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:i,onChange:s=>C(s.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.email?"border-red-300":"border-gray-300"}`,placeholder:"you@example.com"})]}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:f?"text":"password",value:c,onChange:s=>q(s.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.password?"border-red-300":"border-gray-300"}`,placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>_(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?e.jsx(oe,{className:"w-5 h-5"}):e.jsx(ce,{className:"w-5 h-5"})})]}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password})]}),l&&e.jsxs(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:b,onChange:s=>D(s.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.firstName?"border-red-300":"border-gray-300"}`,placeholder:"John"})]}),a.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:p,onChange:s=>U(s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Doe"}),a.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.lastName})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Role"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:X.map(s=>e.jsx("button",{type:"button",onClick:()=>J(s.id),className:`p-3 border rounded-lg text-left transition-colors ${R===s.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-3 ${R===s.id?"bg-blue-100":"bg-gray-100"}`,children:s.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-xs text-gray-500",children:s.description})]})]})},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Location"}),e.jsxs("select",{value:A,onChange:s=>K(s.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.storeLocation?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select a location"}),V.map(s=>e.jsx("option",{value:s,children:s},s))]}),a.storeLocation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.storeLocation})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:s=>I(s.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),!l&&e.jsx("button",{type:"button",onClick:H,className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),e.jsx("button",{onClick:l?Z:G,disabled:L,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:L?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),l?"Creating Account...":"Signing In..."]}):l?"Create Account":"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[l?"Already have an account?":"Don't have an account?",e.jsx("button",{type:"button",onClick:()=>{z(!l),d(null),m(null),E({})},className:"ml-1 text-blue-600 hover:text-blue-700 font-medium",children:l?"Sign In":"Create Account"})]})})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Tenant ID: ",w]})})]})})]}),W&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome to KiTS POS!"}),j===0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Are you a new or existing customer?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>x(1),className:"w-full p-4 border-2 border-blue-500 rounded-lg hover:bg-blue-50 transition-colors text-left",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"New Customer"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"I'm setting up a new store and need to get started"})]}),e.jsxs("button",{onClick:()=>x(2),className:"w-full p-4 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-700",children:"Existing Customer"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"I already have a store and want to connect it"})]})]})]}),j===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Let's set up your new store"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Name"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"My Store"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Type"}),e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{children:"Retail Store"}),e.jsx("option",{children:"Restaurant"}),e.jsx("option",{children:"Service Business"}),e.jsx("option",{children:"Other"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>x(0),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Back"}),e.jsx("button",{onClick:()=>{g(!1),N()},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Complete Setup"})]})]})]}),j===2&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Connect your existing store"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store ID"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your store ID"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>x(0),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Back"}),e.jsx("button",{onClick:()=>{g(!1),N()},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Connect Store"})]})]})]})]}),e.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:e.jsx(ie,{className:"w-6 h-6"})})]})})]})}export{Ne as default};
