import{d as f,c as F,r as n,j as e,C as U}from"./index-DFD28I4s.js";import{L as H}from"./LoadingSpinner-mVzqVygt.js";import{s as b}from"./client-C7ulCTuc.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=f("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=f("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=f("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);function q(){const{isAdmin:j}=F(),[l,v]=n.useState(null),[L,A]=n.useState([]),[c,i]=n.useState(!1),[N,x]=n.useState(""),[d,M]=n.useState(""),[m,T]=n.useState("all"),[p,E]=n.useState("table"),[w,k]=n.useState(!1),[a,o]=n.useState({name:"Test Product",description:"A test product for Shopify sync",price:29.99,sku:"TEST-001",stock:100,active:!0});n.useEffect(()=>{S()},[]);const S=async()=>{var t,r;i(!0);try{const s=await b.getSyncStatus();v(s.data)}catch(s){x(((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to get sync status")}finally{i(!1)}},I=async()=>{var t,r;i(!0),x("");try{const s=await b.getProducts();A(s.data)}catch(s){x(((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch Shopify products")}finally{i(!1)}},V=async()=>{var t,r;i(!0),x("");try{await b.syncProducts([a]),v(s=>({...s,lastSync:new Date().toISOString(),lastAction:"Product synced"})),alert("Product synced successfully!")}catch(s){x(((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to sync product")}finally{i(!1)}},h=L.filter(t=>{var g,u,C;const r=!d||((g=t.name)==null?void 0:g.toLowerCase().includes(d.toLowerCase()))||((u=t.sku)==null?void 0:u.toLowerCase().includes(d.toLowerCase()))||((C=t.description)==null?void 0:C.toLowerCase().includes(d.toLowerCase())),s=m==="all"||m==="active"&&t.active||m==="inactive"&&!t.active;return r&&s}),y=(()=>{const t=h.length,r=h.filter(u=>u.active).length,s=l!=null&&l.lastSync?new Date(l.lastSync):null,g=(l==null?void 0:l.status)||"Not connected";return{totalProducts:t,activeProducts:r,lastSyncTime:s,syncStatusText:g}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Shopify Integration"}),e.jsx("p",{className:"text-green-100",children:"Manage your Shopify store sync and product integration"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>E(p==="table"?"cards":"table"),className:"px-4 py-2 bg-white/20 backdrop-blur rounded-lg hover:bg-white/30 transition-colors text-white font-medium",children:p==="table"?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),j()&&e.jsxs("button",{onClick:()=>k(!w),className:"px-4 py-2 bg-white text-green-600 rounded-lg hover:bg-green-50 font-medium transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Sync Product"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(P,{className:"w-6 h-6 text-green-600"})}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.totalProducts}),e.jsx("div",{className:"text-sm text-gray-600",children:"Products"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center",children:e.jsx(U,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("span",{className:"text-xs text-emerald-500 font-medium",children:"Active"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.activeProducts}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Products"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(K,{className:"w-6 h-6 text-blue-600"})}),e.jsx("span",{className:"text-xs text-blue-500 font-medium",children:"Status"})]}),e.jsx("div",{className:"text-lg font-bold text-gray-900 truncate",children:y.syncStatusText}),e.jsx("div",{className:"text-sm text-gray-600",children:"Connection Status"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-purple-600"})}),e.jsx("span",{className:"text-xs text-purple-500 font-medium",children:"Store"})]}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:(l==null?void 0:l.shop)||"Not Connected"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Shopify Store"})]})]}),w&&j()&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sync Product to Shopify"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),e.jsx("input",{type:"text",value:a.name,onChange:t=>o({...a,name:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Product name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU"}),e.jsx("input",{type:"text",value:a.sku,onChange:t=>o({...a,sku:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"SKU"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),e.jsx("input",{type:"number",value:a.price,onChange:t=>o({...a,price:parseFloat(t.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Price",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock"}),e.jsx("input",{type:"number",value:a.stock,onChange:t=>o({...a,stock:parseInt(t.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Stock quantity"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:t=>o({...a,description:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:"Product description"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.active,onChange:t=>o({...a,active:t.target.checked}),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Active Product"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:V,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors disabled:opacity-50",children:c?"Syncing...":"Sync Product"})]})]}),N&&e.jsx("div",{className:"mt-3 text-sm text-red-600",children:N})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search products by name, SKU, or description...",value:d,onChange:t=>M(t.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("select",{value:m,onChange:t=>T(t.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Products"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:I,disabled:c,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors disabled:opacity-50",children:c?"Loading...":"Refresh Products"}),e.jsx("button",{onClick:S,disabled:c,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors disabled:opacity-50",children:c?"Checking...":"Check Status"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:c?e.jsx(H,{message:"Loading Shopify products..."}):h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(P,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-500",children:d||m!=="all"?"Try adjusting your search or filters to find what you're looking for.":"Connect your Shopify store and sync your first product."})]}):p==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"py-4 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"py-4 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),e.jsx("th",{className:"py-4 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"py-4 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"py-4 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"py-4 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Description"}),e.jsx("th",{className:"py-4 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.sku})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",t.price]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.stock})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.active?"Active":"Inactive"})}),e.jsx("td",{className:"py-4 px-4 hidden lg:table-cell text-sm text-gray-500 max-w-xs truncate",children:t.description||"-"}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Edit"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Sync"})]})})]},t.id))})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:h.map(t=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center text-white font-bold",children:t.name.charAt(0).toUpperCase()}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.active?"Active":"Inactive"})]}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 truncate",children:t.name}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",t.price]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",t.stock]})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:["SKU: ",t.sku]}),t.description&&e.jsx("p",{className:"text-sm text-gray-500 mb-3 truncate",children:t.description}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",children:"Edit"}),e.jsx("button",{className:"flex-1 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Sync"})]})]})},t.id))})})]})}export{q as default};
