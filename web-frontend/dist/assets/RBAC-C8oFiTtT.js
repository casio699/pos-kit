import{c as j,b as Z,r,j as e,A as J}from"./index-C7_9dnC7.js";import{i as x}from"./client-D5hvrTR8.js";import{m as n}from"./proxy-Dl3QHfk3.js";import{S as K,D as Q,a as f}from"./shield-Dj0jyyIn.js";import{X as U}from"./x-DjslSKc_.js";import{U as w}from"./users-Cs4JfeNQ.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=j("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=j("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=j("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=j("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function ne(){const{token:R}=Z(),[b,$]=r.useState("roles"),[S,D]=r.useState([]),[E,B]=r.useState([]),[h,l]=r.useState(!1),[A,i]=r.useState(null),[c,d]=r.useState({name:"",description:"",permissions:[]}),[p,T]=r.useState(""),[q,m]=r.useState(!1),[y,N]=r.useState(null),[o,v]=r.useState([]),[k,L]=r.useState(!1),_=[{category:"Products",permissions:["product:read","product:create","product:update","product:delete"],icon:e.jsx(P,{className:"w-4 h-4"}),color:"blue"},{category:"Inventory",permissions:["inventory:read","inventory:adjust","inventory:transfer"],icon:e.jsx(f,{className:"w-4 h-4"}),color:"green"},{category:"Sales",permissions:["sale:read","sale:create","sale:update","sale:delete","sale:refund"],icon:e.jsx(w,{className:"w-4 h-4"}),color:"purple"},{category:"Users",permissions:["user:read","user:create","user:update","user:delete"],icon:e.jsx(w,{className:"w-4 h-4"}),color:"orange"},{category:"System",permissions:["role:manage","report:read","report:export","settings:read","settings:update","admin:full"],icon:e.jsx(f,{className:"w-4 h-4"}),color:"red"}];r.useEffect(()=>{R&&u()},[R]);const u=async()=>{l(!0),i(null);try{const[s,t]=await Promise.all([x.listRoles(),x.listUsers()]);D(s.data||[]),B(t.data||[])}catch(s){i(s.message||"Failed to load RBAC data")}finally{l(!1)}},F=async()=>{if(!c.name||!c.description){i("Name and description are required");return}l(!0);try{await x.createRole(c),d({name:"",description:"",permissions:[]}),m(!1),u()}catch(s){i(s.message||"Failed to create role")}finally{l(!1)}},V=async()=>{if(!y||!c.name||!c.description){i("Name and description are required");return}l(!0);try{await x.updateRole(y.id,c),N(null),d({name:"",description:"",permissions:[]}),u()}catch(s){i(s.message||"Failed to update role")}finally{l(!1)}},z=async s=>{if(confirm("Are you sure you want to delete this role?")){l(!0);try{await x.deleteRole(s),u()}catch(t){i(t.message||"Failed to delete role")}finally{l(!1)}}},G=async(s,t)=>{if(confirm("Are you sure you want to remove this role from the user?")){l(!0);try{await x.removeRole(s,t),u()}catch(a){i(a.message||"Failed to remove role")}finally{l(!1)}}},H=s=>{d(t=>({...t,permissions:t.permissions.includes(s)?t.permissions.filter(a=>a!==s):[...t.permissions,s]}))},I=s=>{N(s),d({name:s.name,description:s.description,permissions:s.permissions}),m(!0)},O=s=>{v(t=>t.includes(s)?t.filter(a=>a!==s):[...t,s])},X=async s=>{if(o.length===0){i("Please select users first");return}l(!0);try{await Promise.all(o.map(t=>x.assignRole(t,{roleId:s}))),v([]),L(!1),u()}catch(t){i(t.message||"Failed to assign roles")}finally{l(!1)}},C=S.filter(s=>s.name.toLowerCase().includes(p.toLowerCase())||s.description.toLowerCase().includes(p.toLowerCase())),g=E.filter(s=>s.email.toLowerCase().includes(p.toLowerCase())||s.first_name.toLowerCase().includes(p.toLowerCase())||s.last_name.toLowerCase().includes(p.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"RBAC Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage roles, users, and permissions"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search...",value:p,onChange:s=>T(s.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})})}),A&&e.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[e.jsx(J,{className:"w-5 h-5 text-red-600 mr-3"}),e.jsx("span",{className:"text-red-800",children:A}),e.jsx("button",{onClick:()=>i(null),className:"ml-auto text-red-600 hover:text-red-800",children:e.jsx(U,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"roles",label:"Roles",icon:e.jsx(f,{className:"w-4 h-4"})},{id:"users",label:"Users",icon:e.jsx(w,{className:"w-4 h-4"})},{id:"permissions",label:"Permissions",icon:e.jsx(P,{className:"w-4 h-4"})}].map(s=>e.jsxs("button",{onClick:()=>$(s.id),className:`group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm ${b===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.icon,e.jsx("span",{className:"ml-2",children:s.label})]},s.id))})})}),h&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]})}),!h&&b==="roles"&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Roles (",C.length,")"]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Create Role"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map((s,t)=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2,delay:t*.05},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.is_active?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(f,{className:`w-5 h-5 ${s.is_active?"text-blue-600":"text-gray-400"}`})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>I(s),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(s.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:e.jsx(ee,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full mr-1 ${s.is_active?"bg-green-400":"bg-red-400"}`}),s.is_active?"Active":"Inactive"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Permissions"}),e.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[s.permissions.slice(0,3).map(a=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:a},a)),s.permissions.length>3&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-500",children:["+",s.permissions.length-3," more"]})]})]}),s.user_count!==void 0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Users"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.user_count})]})]})]},s.id))}),C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No roles found"}),e.jsx("p",{className:"text-gray-500",children:"Get started by creating your first role."})]})]})}),!h&&b==="users"&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Users (",g.length,")"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[o.length>0&&e.jsxs("button",{onClick:()=>L(!k),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsxs("span",{className:"mr-2",children:["Bulk Actions (",o.length,")"]}),e.jsx(W,{className:`w-4 h-4 transform transition-transform ${k?"rotate-180":""}`})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Assign Role"]})]})]}),k&&o.length>0&&e.jsx(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-purple-900",children:"Bulk Assign Role"}),e.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["Assign a role to ",o.length," selected users"]})]}),e.jsxs("select",{onChange:s=>s.target.value&&X(s.target.value),className:"px-3 py-2 border border-purple-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select role..."}),S.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),e.jsx("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:o.length===g.length&&g.length>0,onChange:s=>{s.target.checked?v(g.map(t=>t.id)):v([])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roles"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((s,t)=>e.jsxs(n.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,delay:t*.02},className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:o.includes(s.id),onChange:()=>O(s.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s.first_name[0],s.last_name[0]]})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.email}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.first_name," ",s.last_name]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.roles.map(a=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-800",children:a.name},a.id)),s.roles.length===0&&e.jsx("span",{className:"text-sm text-gray-400",children:"No roles"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.last_login?new Date(s.last_login).toLocaleDateString():"Never"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),s.roles.length>0&&e.jsx("button",{onClick:()=>G(s.id,s.roles[0].id),className:"text-red-600 hover:text-red-900",children:"Remove Role"})]})]},s.id))})]})}),g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(w,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search criteria."})]})]})}),!h&&b==="permissions"&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Permissions Overview"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and review all system permissions"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((s,t)=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2,delay:t*.05},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:`bg-${s.color}-50 px-6 py-4 border-b border-${s.color}-100`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`text-${s.color}-600`,children:s.icon}),e.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:s.category})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:s.permissions.map(a=>e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-md",children:[e.jsx("code",{className:"text-sm font-mono text-gray-700",children:a}),e.jsx("span",{className:"text-xs text-gray-500",children:a})]},a))})})]},s.category))})]})}),q&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:()=>m(!1),children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[e.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y?"Edit Role":"Create New Role"}),e.jsx("button",{onClick:()=>{m(!1),N(null),d({name:"",description:"",permissions:[]})},className:"text-gray-400 hover:text-gray-500",children:e.jsx(U,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),e.jsx("input",{type:"text",value:c.name,onChange:s=>d(t=>({...t,name:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter role name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:s=>d(t=>({...t,description:s.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the role's purpose"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permissions"}),e.jsx("div",{className:"space-y-3",children:_.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:`text-${s.color}-600 mr-2`,children:s.icon}),e.jsx("h4",{className:"font-medium text-gray-900",children:s.category})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:s.permissions.map(t=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:c.permissions.includes(t),onChange:()=>H(t),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:t})]},t))})]},s.category))})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{onClick:y?V:F,disabled:h,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:h?"Saving...":y?"Update Role":"Create Role"}),e.jsx("button",{onClick:()=>{m(!1),N(null),d({name:"",description:"",permissions:[]})},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]})}export{ne as default};
